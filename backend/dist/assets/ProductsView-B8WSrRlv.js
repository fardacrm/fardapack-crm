import{_ as C,r as c,o as M,c as i,d as e,t as y,m as w,w as h,p as D,l as r,b as $,a as f,v as P,F as x,h as S,k as b}from"./index-DNgNiQ0R.js";const V={class:"modal-box"},F={class:"input-group-full"},B={class:"input-group-full"},E={__name:"ProductFormModal",props:{initialData:{type:Object,default:null}},emits:["close","save"],setup(k,{emit:v}){const o=k,a=c(!1),l=c({category:"",name:""});M(()=>{o.initialData&&(a.value=!0,l.value={category:o.initialData.category,name:o.initialData.name})});const p=v,m=()=>{p("close")},g=()=>{p("save",l.value,a.value?o.initialData.id:null)};return(_,t)=>(r(),i("div",{class:"modal-overlay",onClick:w(m,["self"])},[e("div",V,[e("h2",null,y(a.value?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ø­ØµÙˆÙ„":"Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯"),1),e("form",{onSubmit:w(g,["prevent"])},[e("div",F,[t[2]||(t[2]=e("label",{for:"category"},"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ *",-1)),h(e("input",{id:"category","onUpdate:modelValue":t[0]||(t[0]=d=>l.value.category=d),type:"text",required:"",placeholder:"Ù…Ø«Ø§Ù„: Ø¨Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ"},null,512),[[D,l.value.category]])]),e("div",B,[t[3]||(t[3]=e("label",{for:"name"},"Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„ *",-1)),h(e("input",{id:"name","onUpdate:modelValue":t[1]||(t[1]=d=>l.value.name=d),type:"text",required:"",placeholder:"Ù…Ø«Ø§Ù„: Ú©Ø§Ø±ØªÙ† Ø³Ù‡ Ù„Ø§ÛŒÙ‡"},null,512),[[D,l.value.name]])]),e("div",{class:"modal-actions"},[e("button",{type:"button",class:"btn-cancel",onClick:m},"Ù„ØºÙˆ"),t[4]||(t[4]=e("button",{type:"submit",class:"btn-save"},"Ø°Ø®ÛŒØ±Ù‡",-1))])],32)])]))}},q=C(E,[["__scopeId","data-v-0bb33959"]]),N={class:"page-content"},T={class:"page-header"},U={key:0,class:"loading-message"},j={key:1,class:"success-message"},I={key:2},L=["onClick"],O={key:3,class:"loading-message"},z={__name:"ProductsView",setup(k){const v=c([]),o=c(!0),a=c(null),l=c(!1),p=c(!1),m=c(null),g=(n=null)=>{m.value=n,p.value=!0},_=()=>{p.value=!1,m.value=null},t=async(n,u)=>{a.value=null,l.value=!1;try{u?await b.put(`/products/${u}`,n):await b.post("/products",n),l.value=!0,_(),d(),setTimeout(()=>{l.value=!1},3e3)}catch(s){s.response&&s.response.data&&s.response.data.detail?a.value=s.response.data.detail:a.value="Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡ Ù…Ø­ØµÙˆÙ„.",console.error("Error saving product:",s)}},d=async()=>{o.value=!0,a.value=null;try{const n=await b.get("/products");v.value=n.data}catch(n){a.value=n.message||"Ø®Ø·Ø§ÛŒ Ù†Ø§Ø´Ù†Ø§Ø³",console.error("Error fetching products:",n)}finally{o.value=!1}};return M(d),(n,u)=>(r(),i(x,null,[e("div",N,[e("div",T,[u[1]||(u[1]=e("h2",null,"ğŸ“¦ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª",-1)),e("button",{onClick:u[0]||(u[0]=s=>g()),class:"add-new-button"},"+ Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯")]),e("button",{onClick:d,class:"refresh-button"},"ğŸ”„ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§"),o.value?(r(),i("div",U,"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø­ØµÙˆÙ„Ø§Øª...")):f("",!0),h(e("div",{class:"error-detail"},"Ø®Ø·Ø§: "+y(a.value),513),[[P,a.value]]),l.value?(r(),i("div",j,"Ø¹Ù…Ù„ÛŒØ§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯!")):f("",!0),v.value.length>0&&!o.value?(r(),i("table",I,[u[2]||(u[2]=e("thead",null,[e("tr",null,[e("th",null,"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ"),e("th",null,"Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„"),e("th",null,"Ø¹Ù…Ù„ÛŒØ§Øª")])],-1)),e("tbody",null,[(r(!0),i(x,null,S(v.value,s=>(r(),i("tr",{key:s.id},[e("td",null,y(s.category),1),e("td",null,y(s.name),1),e("td",null,[e("button",{onClick:A=>g(s),class:"btn-edit"},"âœï¸ ÙˆÛŒØ±Ø§ÛŒØ´",8,L)])]))),128))])])):f("",!0),v.value.length===0&&!o.value?(r(),i("p",O," Ù…Ø­ØµÙˆÙ„ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯. ")):f("",!0)]),p.value?(r(),$(q,{key:0,initialData:m.value,onClose:_,onSave:t},null,8,["initialData"])):f("",!0)],64))}},H=C(z,[["__scopeId","data-v-f725ac3c"]]);export{H as default};
