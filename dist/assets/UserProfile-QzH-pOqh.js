import{_ as j,r,o as z,c as a,a as p,b as U,t,d as l,w as I,e as _,S as b,f as d,u as k,g as C,n as h,v as B,F as $,h as D,C as J,i as L,j as R,k as x,l as o}from"./index-DNgNiQ0R.js";const q={class:"page-content"},A={key:0,class:"loading-message"},G={key:1,class:"error-detail"},H={key:2},K={class:"profile-header"},O={class:"header-actions"},Q={class:"profile-card"},W={class:"info-grid"},X={class:"info-item"},Y={class:"info-item"},Z={class:"info-item"},ll={class:"info-item"},sl={class:"info-item"},el={class:"info-item"},tl={class:"info-item"},ol={class:"info-item"},nl={class:"info-item-full"},al={class:"tabs"},ul={class:"tab-content"},il={key:0},rl={key:1},dl={class:"tab-content"},vl={key:0},fl={key:1},pl={key:5,class:"global-success-message"},cl={__name:"UserProfile",setup(ml){const N=R(),e=r(null),c=r(!0),i=r(null),v=r("calls"),m=r(!1),g=async()=>{c.value=!0,i.value=null;const u=N.params.id;try{const s=await x.get(`/users/${u}/profile`);e.value=s.data}catch(s){i.value=s.message||"Ø®Ø·Ø§ Ø¯Ø± ÙˆØ§Ú©Ø´ÛŒ Ù¾Ø±ÙˆÙØ§ÛŒÙ„"}finally{c.value=!1}},w=r(!1),y=r(!1),f=r(null),T=u=>{f.value=u,w.value=!0},M=()=>{w.value=!1,f.value=null},V=u=>{f.value=u,y.value=!0},S=()=>{y.value=!1,f.value=null},F=()=>{m.value=!0,setTimeout(()=>{m.value=!1},3e3)},E=async u=>{i.value=null;try{await x.post("/calls",u),M(),g(),F()}catch(s){i.value="Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª ØªÙ…Ø§Ø³.",console.error("Error saving call:",s)}},P=async u=>{i.value=null;try{await x.post("/followups",u),S(),g(),F()}catch(s){i.value="Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ù¾ÛŒÚ¯ÛŒØ±ÛŒ.",console.error("Error saving followup:",s)}};return z(g),(u,s)=>(o(),a("div",q,[c.value?(o(),a("div",A,"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±...")):p("",!0),i.value?(o(),a("div",G,t(i.value),1)):p("",!0),e.value?(o(),a("div",H,[l("div",K,[l("h2",null,"Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø±: "+t(e.value.info.full_name),1),l("div",O,[l("button",{onClick:s[0]||(s[0]=n=>T(e.value.info.id)),class:"btn-action-call"},"ğŸ“ Ø«Ø¨Øª ØªÙ…Ø§Ø³"),l("button",{onClick:s[1]||(s[1]=n=>V(e.value.info.id)),class:"btn-action-followup"},"ğŸ—“ï¸ Ø«Ø¨Øª Ù¾ÛŒÚ¯ÛŒØ±ÛŒ"),_(b,{text:e.value.info.status},null,8,["text"])])]),l("div",Q,[s[21]||(s[21]=l("h3",null,"Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø§ÛŒÙ‡",-1)),l("div",W,[l("div",X,[s[4]||(s[4]=l("strong",null,"ğŸ“ ØªÙ„ÙÙ†:",-1)),s[5]||(s[5]=d()),l("span",null,t(e.value.info.phone||"â€”"),1)]),l("div",Y,[s[6]||(s[6]=l("strong",null,"ğŸ¢ Ø´Ø±Ú©Øª:",-1)),s[7]||(s[7]=d()),l("span",null,t(e.value.info.company_name||"â€”"),1)]),l("div",Z,[s[8]||(s[8]=l("strong",null,"ğŸ§‘â€ğŸ’¼ Ø³Ù…Øª:",-1)),s[9]||(s[9]=d()),l("span",null,t(e.value.info.role||"â€”"),1)]),l("div",ll,[s[10]||(s[10]=l("strong",null,"ğŸ“ Ø§Ø³ØªØ§Ù†:",-1)),s[11]||(s[11]=d()),l("span",null,t(e.value.info.province||"â€”"),1)]),l("div",sl,[s[12]||(s[12]=l("strong",null,"ğŸ”§ Ø­ÙˆØ²Ù‡ ÙØ¹Ø§Ù„ÛŒØª:",-1)),s[13]||(s[13]=d()),l("span",null,t(e.value.info.domain||"â€”"),1)]),l("div",el,[s[14]||(s[14]=l("strong",null,"ğŸŒŸ Ø³Ø·Ø­:",-1)),s[15]||(s[15]=d()),l("span",null,t(e.value.info.level),1)]),l("div",tl,[s[16]||(s[16]=l("strong",null,"ğŸ‘¤ Ú©Ø§Ø±Ø´Ù†Ø§Ø³:",-1)),s[17]||(s[17]=d()),l("span",null,t(e.value.info.sales_user||"â€”"),1)]),l("div",ol,[s[18]||(s[18]=l("strong",null,"ğŸ—“ï¸ ØªØ§Ø±ÛŒØ® Ø§ÛŒØ¬Ø§Ø¯:",-1)),s[19]||(s[19]=d()),l("span",null,t(k(C)(e.value.info.created_at)),1)])]),l("div",nl,[s[20]||(s[20]=l("strong",null,"ğŸ“ ÛŒØ§Ø¯Ø¯Ø§Ø´Øª:",-1)),l("p",null,t(e.value.info.note||"â€”"),1)])]),l("div",al,[l("button",{onClick:s[2]||(s[2]=n=>v.value="calls"),class:h({active:v.value==="calls"})}," ØªÙ…Ø§Ø³â€ŒÙ‡Ø§ ("+t(e.value.calls.length)+") ",3),l("button",{onClick:s[3]||(s[3]=n=>v.value="followups"),class:h({active:v.value==="followups"})}," Ù¾ÛŒÚ¯ÛŒØ±ÛŒâ€ŒÙ‡Ø§ ("+t(e.value.followups.length)+") ",3)]),I(l("div",ul,[s[23]||(s[23]=l("h3",null,"ØªØ§Ø±ÛŒØ®Ú†Ù‡ ØªÙ…Ø§Ø³â€ŒÙ‡Ø§",-1)),e.value.calls.length>0?(o(),a("table",il,[s[22]||(s[22]=l("thead",null,[l("tr",null,[l("th",null,"ØªØ§Ø±ÛŒØ®"),l("th",null,"ÙˆØ¶Ø¹ÛŒØª"),l("th",null,"ØªÙˆØ¶ÛŒØ­Ø§Øª")])],-1)),l("tbody",null,[(o(!0),a($,null,D(e.value.calls,n=>(o(),a("tr",{key:n.id},[l("td",null,t(k(C)(n.call_datetime)),1),l("td",null,[_(b,{text:n.status},null,8,["text"])]),l("td",null,t(n.description),1)]))),128))])])):(o(),a("p",rl,"Ù‡ÛŒÚ† ØªÙ…Ø§Ø³ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."))],512),[[B,v.value==="calls"]]),I(l("div",dl,[s[25]||(s[25]=l("h3",null,"ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ù¾ÛŒÚ¯ÛŒØ±ÛŒâ€ŒÙ‡Ø§",-1)),e.value.followups.length>0?(o(),a("table",vl,[s[24]||(s[24]=l("thead",null,[l("tr",null,[l("th",null,"Ø¹Ù†ÙˆØ§Ù†"),l("th",null,"ØªØ§Ø±ÛŒØ®"),l("th",null,"ÙˆØ¶Ø¹ÛŒØª"),l("th",null,"Ø¬Ø²Ø¦ÛŒØ§Øª")])],-1)),l("tbody",null,[(o(!0),a($,null,D(e.value.followups,n=>(o(),a("tr",{key:n.id},[l("td",null,t(n.title),1),l("td",null,t(k(C)(n.due_date)),1),l("td",null,[_(b,{text:n.status},null,8,["text"])]),l("td",null,t(n.details),1)]))),128))])])):(o(),a("p",fl,"Ù‡ÛŒÚ† Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."))],512),[[B,v.value==="followups"]])])):p("",!0),w.value?(o(),U(J,{key:3,preselectedUserId:f.value,onClose:M,onSave:E},null,8,["preselectedUserId"])):p("",!0),y.value?(o(),U(L,{key:4,preselectedUserId:f.value,onClose:S,onSave:P},null,8,["preselectedUserId"])):p("",!0),m.value?(o(),a("div",pl,"Ø¹Ù…Ù„ÛŒØ§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯!")):p("",!0)]))}},wl=j(cl,[["__scopeId","data-v-084c1130"]]);export{wl as default};
